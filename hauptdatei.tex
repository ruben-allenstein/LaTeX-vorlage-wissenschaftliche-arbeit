%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                 %
%                 Packages / Grundeinstellungen                   %
%                                                                 %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% Festlegung des Allgemeinen Dokumentenformat
\documentclass[a4paper,12pt,parskip=half,headsepline,DIV=12,numbers=noenddot]{scrartcl}

%%%%%% Muss in die documentclass %%%%%%%%
%BCOR12mm, Korrektur fuer die Bindung
%DIV12 DIV-Wert fuer die Erstellung des Satzspiegels
%numbers=noenddot

% Keine floats in andere Sections
\usepackage[section]{placeins}

% Weitere Pakete
\usepackage{microtype}
\usepackage{scrhack}
\usepackage{caption}
\usepackage{fontspec}
\usepackage{csquotes}
\usepackage{pdflscape}
\usepackage{float}

% Booktabs Tabellen
\usepackage{booktabs}
\usepackage{tabularx}

% Grafiken aus PNG Dateien einbinden
\usepackage{graphicx}

% Deutsche Sonderzeichen und Silbentrennung nutzen
\usepackage[ngerman]{babel}
\usepackage{blindtext}

% Eurozeichen einbinden
\usepackage[right]{eurosym}

% Kopf- und Fußzeilen
\usepackage[headsepline,autooneside=false]{scrlayer-scrpage}
\clearpairofpagestyles

% Schriftart 
\usepackage{lmodern}

% Floatende Bilder ermöglichen
\usepackage{floatflt}

% Für Tabellen
\usepackage{array}

% tikz
\usepackage{tikz}
\usetikzlibrary{calc,arrows,math}
\usetikzlibrary{shapes.geometric,positioning}

%% Schaltpläne nach europäischen Richtlinien
\usepackage[european]{circuitikz}
\tikzset{x=1mm,y=1mm}

\usepackage{siunitx}
\sisetup{output-decimal-marker={,},detect-all}

% Mehrseitige Tabellen ermöglichen
\usepackage{longtable}

% Unterstützung für Schriftarten
%\newfontfamily\popp{Poppins}
%\fontspec{Poppins}
%\setkomafont{disposition}{\fontspec{Poppins}}

% Paket für Boxen im Text
\usepackage{fancybox}

% Bricht lange URLs "schön" um
\usepackage[hyphens,obeyspaces,spaces]{url}

% Paket für Textfarben
\usepackage{color}

% Mathematische Symbole importieren
\usepackage{amssymb}

% Erzeugt Inhaltsverzeichnis mit Querverweisen zu den Abschnitten (PDF Version)
\usepackage[bookmarksnumbered,hyperfootnotes=false]{hyperref}
\hypersetup{
     colorlinks=true,
     linkcolor=black,
     filecolor=blue,
     citecolor = black,      
     urlcolor=blue,
}

% Zitierung nach IEEE
%\usepackage[
%backend=biber,
%style=ieee,
%autocite=inline,
%]{biblatex}
%\addbibresource{bibtex/hauptdatei.bib}

% Zitierung nach APA

\usepackage[
backend=biber,
style=apa,
autocite=inline,
]{biblatex}
\addbibresource{bibtex/hauptdatei.bib}


% Paket für Zeilenabstand
\usepackage{setspace}

% Für Bildbezeichner
\usepackage{capt-of}

% Für Stichwortverzeichnis
\usepackage{makeidx}

% Konfiguriere das Inhaltsverzeichnis
\usepackage{tocbasic}
\DeclareTOCStyleEntries[
  raggedentrytext,
  %numwidth=0pt, if numbers=noenddot is not set
  numsep=1ex,
  dynnumwidth,
]{tocline}{chapter,section}
\DeclareTOCStyleEntries[
  linefill=\TOCLineLeaderFill,
]{tocline}{section,subsection,subsubsection,paragraph,subparagraph}

% Für Listings
\usepackage{listings}
\lstset{numbers=left, numberstyle=\tiny, numbersep=5pt, keywordstyle=\color{black}\bfseries, stringstyle=\ttfamily,showstringspaces=false,basicstyle=\footnotesize,captionpos=b, breaklines=true}

% Indexerstellung
\makeindex

% Abkürzungsverzeichnis
\usepackage[printonlyused, smaller, withpage]{acronym}

% Schriftart Helvetica verwenden
%\usepackage{helvet}
%\renewcommand\familydefault{\sfdefault}

\hypersetup{pdfinfo={
Title={Titel der Arbeit},
Author={Ruben Allenstein}
}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                 %                    
%                     Beginn des Inhalts                          %
%                                                                 %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  Special Characters:                                            %
%                                                                 %
%             \& \% \$ \# \_ \{ \}                                %
%             \textasciitilde (~)                                 %
%             \textasciicircum (^)                                %     
%             \textbackslash (\)                                  %                    
%      \glqq Text\grqq{} für Anführungszeichen                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

% Definition Header Sections sollen in der Kopfzeile stehen Kopfzeile mit Unterstrich
\automark[subsection]{section}
\KOMAoptions{headsepline=true}
%\ihead{Kopfzeile innen}
%\chead{Kopfzeile außen}
\ohead{\headmark}

% Definition footer \pagemark steht für Seitennummer
%\ifoot{Fußzeile innen}
%\cfoot{Fußzeile Mitte}
\ofoot{\pagemark}

% Hier werden die Trennvorschläge inkludiert
\input{src/basic_structure/trennung.tex}

% Leere Seite am Anfang
%\thispagestyle{empty} % erzeugt Seite ohne Kopf- / Fusszeile
%\mbox{}
%\newpage

% Titelseite %
\input{src/basic_structure/deckblatt.tex}
\newpage

% Singlespacing (Default)
\singlespacing

% Abstract falls gewünscht
%\onehalfspacing
%\thispagestyle{empty}
%\input{abstract}
%\newpage

% Seitenzählung nach dem Inhaltsverzeichnis bei 1 beginnen
%\setcounter{page}{1}

% Inhaltsverzeichnis anzeigen
\thispagestyle{empty}
\tableofcontents
\newpage

% Header für den Inhalt 
\KOMAoptions{headsepline=true}
\ohead{\headmark}

% Input Inhalt
\input{src/einleitung.tex}
\input{src/hauptabschnitt_2.tex}
\input{src/hauptabschnitt_3.tex}
\input{src/fazit.tex}
\newpage

% Literaturverzeichnis anzeigen
\ohead{Literaturverzeichnis} % Korrektur für Header 
\phantomsection
\addcontentsline{toc}{section}{Literaturverzeichnis}
\renewcommand\refname{Literaturverzeichnis}
\printbibliography
\newpage

% Abbildungsverzeichnis anzeigen
\ohead{\headmark}
\listoffigures
\newpage
\addcontentsline{toc}{section}{Abbildungsverzeichnis}

% Tabellenverzeichnis anzeigen
\listoftables
\newpage
\addcontentsline{toc}{section}{Tabellenverzeichnis}

% Listingverzeichnis anzeigen
\renewcommand{\lstlistlistingname}{Listingverzeichnis}
\lstlistoflistings
\newpage
\addcontentsline{toc}{section}{Listingverzeichnis}

% Abkürzungsverzeichnis anzeigen
\ohead{Abkürzungsverzeichnis} % Korrektur für Header 
\section*{Abkürzungsverzeichnis}\label{Abkuerzungsverzeichnis}
\input{src/basic_structure/abkuerzungen.tex}
\newpage
\addcontentsline{toc}{section}{Abkürzungsverzeichnis}

% Kein Header für Anhang (Deckblatt) 
\KOMAoptions{headsepline=false}
\ohead{}

% Beginn Anhang
\input{src/anhang/anhang_deckblatt.tex}

% Anhang römisch 
\renewcommand{\thesection}{\Roman{section}} 
\renewcommand{\thesubsection}{\Roman{subsection}}
\setcounter{section}{0}

% Header Anhang (Inhalt)
\KOMAoptions{headsepline=true}
\ohead{\headmark}
\automark{subsection}

% Input Anhang 
\input{src/anhang/anhang.tex}
\newpage

% Selbstständigkeits Erklärung
\phantomsection
\addcontentsline{toc}{section}{Selbstständigkeitserklärung}

% Header für Erklärung
\ohead{Selbstständigkeitserklärung}

% Input Erklärung
\input{src/basic_structure/erklaerung.tex}

% Leere Abschlussseite
%\newpage
%\thispagestyle{empty} % erzeugt Seite ohne Kopf- / Fusszeile
%\mbox{}

\end{document}
